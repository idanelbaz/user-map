(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(66)},37:function(e,t,n){},38:function(e,t,n){},44:function(e,t,n){},63:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(7),c=n.n(a),i=(n(37),n(38),n(5)),s=n.n(i),u=n(11),l=n(12),p=(n(44),function(e){var t=e.city,n=e.countryCode,r="https://www.google.com/maps/embed/v1/place?key=AIzaSyCdQymwSuF0P6Ee-ffX0ZtWjpJdpaT5eLk&q=".concat(t,"+").concat(n);return o.a.createElement("div",null,o.a.createElement("iframe",{className:"map",title:"Your IP location",frameBorder:"0",src:r,allowFullScreen:!0}))}),f={GET_USER_LOCATION:"GET_USER_LOCATION"},d=n(28),v=n.n(d),h="5387587bd1589681f82ded2b3ad203add911ec7439eb3ff2c0f67288",w={getUserLocation:function(){return m.apply(this,arguments)}};function m(){return(m=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("https://api.ipdata.co/?api-key=".concat(h));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}var b=function(){return function(){var e=Object(u.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.getUserLocation();case 3:return n=e.sent,e.next=6,t({type:f.GET_USER_LOCATION,data:n});case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},g=n(16),y=(n(62),n(70)),O=(n(63),Object(l.b)(function(e){return{userLocation:e.locationReducer.userLocation}})(function(e){var t=function(e){return Object(g.b)(e)};function n(){return(n=Object(u.a)(s.a.mark(function n(){var r;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.dispatch,n.prev=1,n.next=4,r(b());case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),t("Cannot find your location");case 9:case"end":return n.stop()}},n,null,[[1,6]])}))).apply(this,arguments)}Object(r.useEffect)(function(){null===e.userLocation&&function(){n.apply(this,arguments)}()});var a=e.userLocation;return o.a.createElement("div",{className:"homePage"},o.a.createElement(g.a,null),null!==a&&o.a.createElement("div",{className:"map-container"},o.a.createElement("h1",{className:"page-header"},"Your IP location is: ",a.city,", ",a.country_name),o.a.createElement(p,{city:a.city,countryCode:a.country_code})),null===a&&o.a.createElement(y.a,{animation:"grow",variant:"info"}))})),E=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(O,null))},j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(64);var L=n(30),P=(n(65),n(8)),S=n(31);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var A=Object(P.c)({locationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userLocation:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.GET_USER_LOCATION:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach(function(t){Object(S.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{userLocation:t.data});default:return e}}}),C=[L.a];var N=Object(P.d)(A,P.a.apply(void 0,C));c.a.render(o.a.createElement(l.a,{store:N},o.a.createElement(E,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/user-map",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/user-map","/service-worker.js");j?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):k(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):k(t,e)})}}(),window.addEventListener("beforeinstallprompt",function(e){console.log("beforeinstallprompt event has fired"),e.prompt()})}},[[32,1,2]]]);
//# sourceMappingURL=main.63bdf49b.chunk.js.map